"use strict";(self.webpackChunkssh_team=self.webpackChunkssh_team||[]).push([[574],{7574:(le,f,s)=>{s.r(f),s.d(f,{CaseModule:()=>oe});var g=s(9023),d=s(526),h=s(8530),_=s(8769),C=s(7933),e=s(5764),q=s(2523),N=s(6076),w=s(1690),Z=s(42),u=s(2484),v=s(9961),x=s(2440),b=s(6320),T=s(7935),M=s(4440),y=s(7130),A=s(8655),S=s(5184);function U(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openNew())}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedPanelCase())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.selectedPanelCase||!t.selectedPanelCase.length)}}function D(n,i){if(1&n){const t=e.EpF();e._UZ(0,"p-fileUpload",21),e.TgZ(1,"button",22),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(8);return e.KtG(o.exportCSV())}),e.qZA()}2&n&&e.Q6J("maxFileSize",1e6)}function F(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"h5",24),e._uU(2,"Manage Gpu"),e.qZA(),e.TgZ(3,"span",25),e._UZ(4,"i",26),e.TgZ(5,"input",27),e.NdJ("input",function(o){e.CHM(t);const l=e.oxw(),r=e.MAs(8);return e.KtG(l.onGlobalFilter(r,o))}),e.qZA()()()}}function B(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",28),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",29),e._uU(4,"Model "),e._UZ(5,"p-sortIcon",30),e.qZA(),e.TgZ(6,"th",31),e._uU(7,"Price "),e._UZ(8,"p-sortIcon",32),e.qZA(),e.TgZ(9,"th",33),e._uU(10,"Color "),e._UZ(11,"p-sortIcon",34),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Action"),e.qZA()())}function I(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",35),e.qZA(),e.TgZ(3,"td",36)(4,"span",37),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",36)(8,"span",37),e._uU(9,"Category"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",36)(12,"span",37),e._uU(13,"Category"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"div",38)(17,"button",39),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.editCase(l))}),e.qZA(),e.TgZ(18,"button",40),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteCase(l))}),e.qZA()()()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.name," "),e.xp6(4),e.hij(" ",t.case[0].price," "),e.xp6(4),e.hij(" ",t.case[0].color.color," ")}}function H(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",43)(1,"p-dropdown",59),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw(2);return e.KtG(l.itemSelected=o)}),e.qZA(),e.TgZ(2,"label",60),e._uU(3,"Category"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("autoDisplayFirst",t.itemSelected)("options",t.categorys)("ngModel",t.itemSelected)}}function P(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",43)(1,"p-dropdown",61),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw(2);return e.KtG(l.itemSelected=o)}),e.qZA(),e.TgZ(2,"label",60),e._uU(3,"Category"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("autoDisplayFirst",!1)("options",t.categorys)("ngModel",t.itemSelected)}}function G(n,i){1&n&&(e.TgZ(0,"small",62),e._uU(1,"Model is required."),e.qZA())}function K(n,i){1&n&&(e.TgZ(0,"small",62),e._uU(1,"Price is required."),e.qZA())}function k(n,i){1&n&&(e.TgZ(0,"small",62),e._uU(1,"Spec is required."),e.qZA())}function Q(n,i){1&n&&(e.TgZ(0,"small",62),e._uU(1,"Logo is required."),e.qZA())}const m=function(n){return{"ng-invalid ng-dirty":n}};function Y(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",42)(2,"span",43)(3,"p-multiSelect",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedMotherBoard=o)}),e.qZA(),e.TgZ(4,"label",45),e._uU(5,"MultiSelect"),e.qZA()()()(),e.TgZ(6,"div",41)(7,"div",46),e.YNc(8,H,4,3,"span",47),e.YNc(9,P,4,3,"span",47),e.qZA(),e.TgZ(10,"div",48)(11,"label",49),e._uU(12,"Model"),e.qZA(),e.TgZ(13,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.case.model=o)}),e.qZA(),e.YNc(14,G,2,0,"small",51),e.qZA()(),e.TgZ(15,"div",41)(16,"div",52)(17,"label",53),e._uU(18,"Price"),e.qZA(),e.TgZ(19,"input",54),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.case.price=o)}),e.qZA(),e.YNc(20,K,2,0,"small",51),e.qZA(),e.TgZ(21,"div",55)(22,"label",56),e._uU(23,"Color"),e.qZA(),e.TgZ(24,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.case.color=o)}),e.qZA(),e.YNc(25,k,2,0,"small",51),e.qZA()(),e.TgZ(26,"div",41)(27,"div",42)(28,"label",49),e._uU(29,"Logo"),e.qZA(),e.TgZ(30,"input",58),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onUpload(o))}),e.qZA(),e.YNc(31,Q,2,0,"small",51),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("options",t.motherBoardList)("ngModel",t.selectedMotherBoard)("filter",!1),e.xp6(5),e.Q6J("ngIf",0==t.createCase),e.xp6(1),e.Q6J("ngIf",1==t.createCase),e.xp6(4),e.Q6J("ngModel",t.case.model)("ngClass",e.VKq(16,m,t.submitted&&!t.case.model)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.case.model),e.xp6(5),e.Q6J("ngModel",t.case.price)("ngClass",e.VKq(18,m,t.submitted&&!t.case.price)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.case.price),e.xp6(4),e.Q6J("ngModel",t.case.color)("ngClass",e.VKq(20,m,t.submitted&&!t.case.color)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.case.color),e.xp6(5),e.Q6J("ngClass",e.VKq(22,m,t.submitted&&!t.file)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.file)}}function R(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.qZA(),e.TgZ(1,"button",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProduct())}),e.qZA()}}function E(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.panelCase.name)}}function L(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteCaseDialog=!1)}),e.qZA(),e.TgZ(1,"button",66),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete())}),e.qZA()}}function j(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteCasesDialog=!1)}),e.qZA(),e.TgZ(1,"button",66),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const O=function(){return["name","spec","color","status"]},V=function(){return[10,20,30]},z=function(){return{width:"50VW"}},J=function(){return{width:"450px"}};let $=(()=>{class n{constructor(t,a,o,l){this.motherboard_service=t,this.case_service=a,this.category_service=o,this.messageService=l,this.createCase=!1,this.caseDialog=!1,this.itemSelected={},this.categorys=[],this.category={},this.deleteCaseDialog=!1,this.deleteCasesDialog=!1,this.panelCases=[],this.panelCase={},this.case={},this.selectedMotherBoard=[],this.file=[],this.selectedPanelCase=[],this.submitted=!1,this.uploadedFiles=[],this.motherBoardList=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.category_service.getAllCategory().subscribe(t=>{this.categorys=t.data}),this.motherboard_service.getAllMotherBoard().subscribe(t=>{this.motherBoardList=t.data}),this.case_service.getAllCase().subscribe(t=>{this.panelCases=t.data})}openNew(){this.selectedMotherBoard=[],this.panelCase={},this.case={},this.itemSelected={},this.submitted=!1,this.caseDialog=!0,this.createCase=!0}deleteSelectedPanelCase(){this.deleteCasesDialog=!0}editCase(t){var a;this.panelCase=Object.assign({},t),this.case.categoryId=t.case?t.case[0].categoryId:"",this.case.id=t.case?t.case[0].id:"",this.case.color=t.case?null===(a=t.case[0].color)||void 0===a?void 0:a.color:"",this.case.model=t.case?t.case[0].model:"",this.case.price=t.case?t.case[0].price:0,this.itemSelected=this.categorys.filter(o=>{var l;return o.id==(null===(l=t.category)||void 0===l?void 0:l.id)})[0],this.selectedMotherBoard=this.motherBoardList.filter(o=>{var l;const r=o.id;return null===(l=t.panelmotherBoard)||void 0===l?void 0:l.find(p=>p.id==r)}),this.caseDialog=!0,this.createCase=!1}deleteCase(t){this.deleteCaseDialog=!0,this.panelCase=Object.assign({},t)}confirmDeleteSelected(){var t=this;return(0,_.Z)(function*(){t.deleteCasesDialog=!1,t.panelCases=t.panelCases.filter(a=>!t.selectedPanelCase.includes(a));for(let a=0;a<t.selectedPanelCase.length;a++)yield t.case_service.deleteCase(t.selectedPanelCase[a].id).subscribe(o=>{t.panelCases=t.panelCases.filter(l=>l.id!==t.category.id),t.messageService.add({severity:"success",summary:"Successful",detail:"case Deleted",life:3e3})});t.selectedPanelCase=[]})()}confirmDelete(){var t=this;return(0,_.Z)(function*(){t.deleteCaseDialog=!1,yield t.case_service.deleteCase(t.panelCase.id).subscribe(a=>{t.panelCases=t.panelCases.filter(o=>o.id!==t.panelCase.id),t.messageService.add({severity:"success",summary:"Successful",detail:"case Deleted",life:3e3})},a=>{t.messageService.add({severity:"error",summary:"Delete Fail ",detail:"case Deleted not Successful",life:3e3})})})()}hideDialog(){this.caseDialog=!1,this.submitted=!1}saveProduct(){var t=this;return(0,_.Z)(function*(){var a,o;if(t.submitted=!0,t.case.model.trim()){if(t.case.id){let p=new FormData;if(p.set("model",t.case.model||""),p.set("categoryId",t.itemSelected.id),p.set("itemId",t.case.id||""),p.set("price",(null===(a=t.case.price)||void 0===a?void 0:a.toString())||""),p.set("color",t.case.color||""),t.selectedMotherBoard.length>0){var l="";for(let c=0;c<t.selectedMotherBoard.length;c++)l+=c==t.selectedMotherBoard.length-1?`${t.selectedMotherBoard[c].id}`:`${t.selectedMotherBoard[c].id},`;p.set("listMotherBoardId",l)}null!=t.file&&t.uploadedFiles.forEach(c=>{p.append("file",c)}),yield t.case_service.updateCase(p,t.panelCase.id).subscribe(c=>{t.case_service.getAllCase().subscribe(ae=>{t.panelCases=ae.data}),t.messageService.add({severity:"success",summary:"Successful",detail:"case Updated",life:3e3})},c=>{t.messageService.add({severity:"error",summary:"Create Fail ",detail:"case update not Successful",life:3e3})})}else{l="";for(let c=0;c<t.selectedMotherBoard.length;c++)l+=c==t.selectedMotherBoard.length-1?`${t.selectedMotherBoard[c].id}`:`${t.selectedMotherBoard[c].id},`;var r=new FormData;r.set("model",t.case.model||""),r.set("categoryId",t.itemSelected.id),t.uploadedFiles.forEach(c=>{r.append("file",c)}),r.set("price",(null===(o=t.case.price)||void 0===o?void 0:o.toString())||""),r.set("color",t.case.color||""),r.set("listMotherBoardId",l||""),yield t.case_service.createCase(r).subscribe(c=>{t.panelCases.push(c.data),t.messageService.add({severity:"success",summary:"Successful",detail:"case Created",life:3e3})},c=>{t.messageService.add({severity:"error",summary:"Update Fail ",detail:"case create not Successful",life:3e3})})}t.panelCases=[...t.panelCases],t.caseDialog=!1,t.panelCase={},t.uploadedFiles=[],t.createCase=!1}})()}onGlobalFilter(t,a){t.filterGlobal(a.target.value,"contains")}onUpload(t){for(let a of t.target.files)this.uploadedFiles.push(a);this.messageService.add({severity:"info",summary:"Success",detail:t.target.files.length+" File Uploaded"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.c),e.Y36(N.n),e.Y36(w.H),e.Y36(C.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([C.ez])],decls:26,vars:27,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Storage Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Delete","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","name"],["field","name"],["pSortableColumn","price"],["field","price"],["pSortableColumn","color"],["field","color"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[1,"d-flex","flex-row",2,"display","flex","flex-direction","row"],[1,"field","mx-5",2,"display","block","width","100%"],[1,"p-float-label"],["inputId","multiselect","optionLabel","name",3,"options","ngModel","filter","ngModelChange"],["for","multiselect"],[1,"field","mt-5","mb-5","mx-5",2,"width","45%"],["class","p-float-label",4,"ngIf"],[1,"field",2,"width","45%","margin-top","2px"],["for","model"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"field","mx-5",2,"width","45%"],["for","price"],["type","number","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"field",2,"width","45%"],["for","color"],["type","text","pInputText","","id","color","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["multiple","","type","file","pInputText","","id","file","required","","autofocus","",1,"mb-5",3,"ngClass","change"],["inputId","category","optionLabel","categoryName",3,"autoDisplayFirst","options","ngModel","ngModelChange"],["for","Category"],["inputId","Storage","optionLabel","categoryName",3,"autoDisplayFirst","options","ngModel","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-toolbar",3),e.YNc(5,U,3,1,"ng-template",4),e.YNc(6,D,2,1,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.NdJ("selectionChange",function(l){return a.selectedPanelCase=l}),e.YNc(9,F,6,0,"ng-template",8),e.YNc(10,B,14,0,"ng-template",9),e.YNc(11,I,19,4,"ng-template",10),e.qZA()(),e.TgZ(12,"p-dialog",11),e.NdJ("visibleChange",function(l){return a.caseDialog=l}),e.YNc(13,Y,32,24,"ng-template",12),e.YNc(14,R,2,0,"ng-template",13),e.qZA(),e.TgZ(15,"p-dialog",14),e.NdJ("visibleChange",function(l){return a.deleteCaseDialog=l}),e.TgZ(16,"div",15),e._UZ(17,"i",16),e.YNc(18,E,5,1,"span",17),e.qZA(),e.YNc(19,L,2,0,"ng-template",13),e.qZA(),e.TgZ(20,"p-dialog",14),e.NdJ("visibleChange",function(l){return a.deleteCasesDialog=l}),e.TgZ(21,"div",15),e._UZ(22,"i",16),e.TgZ(23,"span"),e._uU(24,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(25,j,2,0,"ng-template",13),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("value",a.panelCases)("rows",10)("globalFilterFields",e.DdM(22,O))("rows",10)("paginator",!0)("rowsPerPageOptions",e.DdM(23,V))("showCurrentPageReport",!0)("selection",a.selectedPanelCase)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(24,z)),e.Q6J("visible",a.caseDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(25,J)),e.Q6J("visible",a.deleteCaseDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",a.panelCase),e.xp6(2),e.Akn(e.DdM(26,J)),e.Q6J("visible",a.deleteCasesDialog)("modal",!0))},dependencies:[g.mk,g.O5,Z.NU,C.jx,u.iA,u.lQ,u.fz,u.UA,u.Mo,v.p,x.Hq,d.Fj,d.wV,d.JJ,d.Q7,d.On,b.H,T.FN,M.o,y.o,A.Lt,S.V],encapsulation:2}),n})(),W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.Bz.forChild([{path:"",component:$}]),h.Bz]}),n})();var X=s(1694),ee=s(5551),te=s(353),ne=s(3496);let oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,Z.q4,W,u.U$,v.O,d.u5,x.hJ,b.T,T.EV,M.V,X.Xt,y.j,ee.A,A.kW,te.cc,ne.L$,S.S]}),n})()}}]);