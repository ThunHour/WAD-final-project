"use strict";(self.webpackChunkssh_team=self.webpackChunkssh_team||[]).push([[419],{4419:(z,g,l)=>{l.r(g),l.d(g,{BrandModule:()=>E});var p=l(9023),c=l(526),_=l(8530),m=l(7933),e=l(5764),T=l(6627),s=l(2484),b=l(9961),f=l(2440),h=l(6320),B=l(7935),x=l(4440),C=l(7130),Z=l(5184);function N(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openNew())}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteSelectedProducts())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.selectedBrands||!t.selectedBrands.length)}}function A(n,r){if(1&n){const t=e.EpF();e._UZ(0,"p-fileUpload",21),e.TgZ(1,"button",22),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(8);return e.KtG(a.exportCSV())}),e.qZA()}2&n&&e.Q6J("maxFileSize",1e6)}function w(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"h5",24),e._uU(2,"Manage Products"),e.qZA(),e.TgZ(3,"span",25),e._UZ(4,"i",26),e.TgZ(5,"input",27),e.NdJ("input",function(a){e.CHM(t);const o=e.oxw(),d=e.MAs(8);return e.KtG(o.onGlobalFilter(d,a))}),e.qZA()()()}}function J(n,r){1&n&&(e.TgZ(0,"tr")(1,"th",28),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",29),e._uU(4,"Name "),e._UZ(5,"p-sortIcon",30),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Image"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Action"),e.qZA()())}function D(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",31),e.qZA(),e.TgZ(3,"td",32)(4,"span",33),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",32)(8,"span",33),e._uU(9,"Image"),e.qZA(),e._UZ(10,"img",34),e.qZA(),e.TgZ(11,"td")(12,"div",35)(13,"button",36),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.editProduct(o))}),e.qZA(),e.TgZ(14,"button",37),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.deleteProduct(o))}),e.qZA()()()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.brandName," "),e.xp6(4),e.Q6J("src",t.Image.imageUrl,e.LSH)("alt",t.brandName)}}function M(n,r){if(1&n&&e._UZ(0,"img",44),2&n){const t=e.oxw(2);e.Q6J("src",t.brand.Image.imageUrl,e.LSH)("alt",t.brand.Image.imageUrl)}}function y(n,r){1&n&&(e.TgZ(0,"small",45),e._uU(1,"Name is required."),e.qZA())}const v=function(n){return{"ng-invalid ng-dirty":n}};function U(n,r){if(1&n){const t=e.EpF();e.YNc(0,M,1,2,"img",38),e.TgZ(1,"div",39)(2,"label",40),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"input",41),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.brand.brandName=a)}),e.qZA(),e.YNc(5,y,2,0,"small",42),e.qZA(),e.TgZ(6,"div",39)(7,"input",43),e.NdJ("change",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.onUpload(a))}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngIf",null==t.brand.Image?null:t.brand.Image.imageUrl),e.xp6(4),e.Q6J("ngModel",t.brand.brandName)("ngClass",e.VKq(5,v,t.submitted&&!t.brand.brandName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.brand.brandName),e.xp6(2),e.Q6J("ngClass",e.VKq(7,v,t.submitted&&!t.file))}}function k(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.hideDialog())}),e.qZA(),e.TgZ(1,"button",47),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.saveProduct())}),e.qZA()}}function S(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.brand.brandName)}}function F(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteBrandDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.confirmDelete())}),e.qZA()}}function q(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteBrandsDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.confirmDeleteSelected())}),e.qZA()}}const I=function(){return["brandName","image"]},H=function(){return[10,20,30]},u=function(){return{width:"450px"}};let P=(()=>{class n{constructor(t,i){this.messageService=t,this.brand_service=i,this.brandDialog=!1,this.deleteBrandDialog=!1,this.deleteBrandsDialog=!1,this.uploadedFiles=[],this.selectedBrands=[],this.submitted=!1,this.brand={},this.rowsPerPageOptions=[5,10,20],this.brands=[],this.file={}}ngOnInit(){this.brand_service.getAllBrand().subscribe(t=>{this.brands=t.data})}onUpload(t){this.file=t.target.files[0],this.messageService.add({severity:"info",summary:"Success",detail:"File Uploaded"})}openNew(){this.brand={},this.submitted=!1,this.brandDialog=!0}deleteSelectedProducts(){this.deleteBrandsDialog=!0}editProduct(t){this.brand=Object.assign({},t),this.brandDialog=!0}deleteProduct(t){this.deleteBrandDialog=!0,this.brand=Object.assign({},t)}confirmDeleteSelected(){this.deleteBrandsDialog=!1,this.brands=this.brands.filter(t=>!this.selectedBrands.includes(t));for(let t=0;t<this.selectedBrands.length;t++)this.brand_service.deleteBrand(this.selectedBrands[t].id).subscribe(i=>{this.brands=this.brands.filter(a=>a.id!==this.brand.id),this.messageService.add({severity:"success",summary:"Successful",detail:"Brand Deleted",life:3e3}),this.brand={}});this.selectedBrands=[]}confirmDelete(){this.deleteBrandDialog=!1,this.brand_service.deleteBrand(this.brand.id).subscribe(t=>{this.brands=this.brands.filter(i=>i.id!==this.brand.id),this.messageService.add({severity:"success",summary:"Successful",detail:"Brand Deleted",life:3e3}),this.brand={}})}hideDialog(){this.brandDialog=!1,this.submitted=!1}saveProduct(){var t;if(this.submitted=!0,null!==(t=this.brand.brandName)&&void 0!==t&&t.trim()){if(this.brand.id){let a=new FormData;a.set("brandName",this.brand.brandName),null!=this.file&&a.set("file",this.file),this.brand_service.updateBrand(a,this.brand.id).subscribe(d=>{this.brand_service.getAllBrand().subscribe(O=>{this.brands=O.data}),this.messageService.add({severity:"success",summary:"Successful",detail:"Brand Updated",life:3e3})})}else{var i=new FormData;i.set("brandName",this.brand.brandName),i.set("file",this.file),this.brand_service.createBrand(i).subscribe(a=>{this.brands.push(a.data),this.messageService.add({severity:"success",summary:"Successful",detail:"Brand Created",life:3e3})})}this.brands=[...this.brands],this.brandDialog=!1,this.file={},this.brand={}}}findIndexById(t){let i=-1;for(let a=0;a<this.brands.length;a++)if(this.brands[a].id===t){i=a;break}return i}onGlobalFilter(t,i){t.filterGlobal(i.target.value,"contains")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.ez),e.Y36(T.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([m.ez])],decls:26,vars:27,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Brand Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Delete","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","brandName"],["field","brandName"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],["width","100",1,"shadow-4",3,"src","alt"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["width","150","class","mt-0 mx-auto mb-5 block shadow-2",3,"src","alt",4,"ngIf"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["type","file","pInputText","","id","file","required","","autofocus","",3,"ngClass","change"],["width","150",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"src","alt"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-toolbar",3),e.YNc(5,N,3,1,"ng-template",4),e.YNc(6,A,2,1,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.NdJ("selectionChange",function(o){return i.selectedBrands=o}),e.YNc(9,w,6,0,"ng-template",8),e.YNc(10,J,10,0,"ng-template",9),e.YNc(11,D,15,4,"ng-template",10),e.qZA()(),e.TgZ(12,"p-dialog",11),e.NdJ("visibleChange",function(o){return i.brandDialog=o}),e.YNc(13,U,8,9,"ng-template",12),e.YNc(14,k,2,0,"ng-template",13),e.qZA(),e.TgZ(15,"p-dialog",14),e.NdJ("visibleChange",function(o){return i.deleteBrandDialog=o}),e.TgZ(16,"div",15),e._UZ(17,"i",16),e.YNc(18,S,5,1,"span",17),e.qZA(),e.YNc(19,F,2,0,"ng-template",13),e.qZA(),e.TgZ(20,"p-dialog",14),e.NdJ("visibleChange",function(o){return i.deleteBrandsDialog=o}),e.TgZ(21,"div",15),e._UZ(22,"i",16),e.TgZ(23,"span"),e._uU(24,"Are you sure you want to delete selected brand?"),e.qZA()(),e.YNc(25,q,2,0,"ng-template",13),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("value",i.brands)("rows",10)("globalFilterFields",e.DdM(22,I))("rows",10)("paginator",!0)("rowsPerPageOptions",e.DdM(23,H))("showCurrentPageReport",!0)("selection",i.selectedBrands)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(24,u)),e.Q6J("visible",i.brandDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(25,u)),e.Q6J("visible",i.deleteBrandDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",i.brand),e.xp6(2),e.Akn(e.DdM(26,u)),e.Q6J("visible",i.deleteBrandsDialog)("modal",!0))},dependencies:[p.mk,p.O5,s.iA,m.jx,s.lQ,s.fz,s.UA,s.Mo,b.p,f.Hq,c.Fj,c.JJ,c.Q7,c.On,h.H,B.FN,x.o,C.o,Z.V],encapsulation:2}),n})(),G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild([{path:"",component:P}]),_.Bz]}),n})();var K=l(1694),Q=l(5551),R=l(8655),Y=l(353),j=l(3496);let E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,G,s.U$,b.O,c.u5,f.hJ,h.T,B.EV,x.V,K.Xt,C.j,Q.A,R.kW,Y.cc,j.L$,Z.S]}),n})()}}]);