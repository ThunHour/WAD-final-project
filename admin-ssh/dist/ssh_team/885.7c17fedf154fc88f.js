"use strict";(self.webpackChunkssh_team=self.webpackChunkssh_team||[]).push([[885],{2885:(X,_,i)=>{i.r(_),i.d(_,{CatoryModule:()=>V});var d=i(9023),g=i(526),y=i(8530),p=i(8769),m=i(7933),e=i(5764),A=i(6627),M=i(1690),s=i(2484),C=i(9961),f=i(2440),b=i(6320),h=i(7935),Z=i(4440),v=i(7130),x=i(8655),T=i(5184);function S(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openNew())}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedCategorys())}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.selectedCategory||!t.selectedCategory.length)}}function w(o,l){if(1&o){const t=e.EpF();e._UZ(0,"p-fileUpload",21),e.TgZ(1,"button",22),e.NdJ("click",function(){e.CHM(t),e.oxw();const n=e.MAs(8);return e.KtG(n.exportCSV())}),e.qZA()}2&o&&e.Q6J("maxFileSize",1e6)}function J(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",23)(1,"h5",24),e._uU(2,"Manage Categorys"),e.qZA(),e.TgZ(3,"span",25),e._UZ(4,"i",26),e.TgZ(5,"input",27),e.NdJ("input",function(n){e.CHM(t);const r=e.oxw(),c=e.MAs(8);return e.KtG(r.onGlobalFilter(c,n))}),e.qZA()()()}}function U(o,l){1&o&&(e.TgZ(0,"tr")(1,"th",28),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",29),e._uU(4,"Name "),e._UZ(5,"p-sortIcon",30),e.qZA(),e.TgZ(6,"th",31),e._uU(7,"Brand "),e._UZ(8,"p-sortIcon",32),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Image"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Action "),e.qZA(),e._UZ(13,"th"),e.qZA())}function D(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",33),e.qZA(),e.TgZ(3,"td",34)(4,"span",35),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",34)(8,"span",35),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",34)(12,"span",35),e._uU(13,"Image"),e.qZA(),e._UZ(14,"img",36),e.qZA(),e.TgZ(15,"td")(16,"div",37)(17,"button",38),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editCategory(r))}),e.qZA(),e.TgZ(18,"button",39),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteCategory(r))}),e.qZA()()()()}if(2&o){const t=l.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.categoryName," "),e.xp6(4),e.hij(" ",t.brand.brandName," "),e.xp6(4),e.Q6J("src",t.Image.imageUrl,e.LSH)("alt",t.categoryName)}}function F(o,l){if(1&o&&e._UZ(0,"img",49),2&o){const t=e.oxw(2);e.Q6J("src",t.category.Image.imageUrl,e.LSH)("alt",t.category.Image.imageUrl)}}function q(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"span",50)(1,"p-dropdown",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw(2);return e.KtG(r.itemSelected=n)}),e.qZA(),e.TgZ(2,"label",52),e._uU(3,"Brand"),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("autoDisplayFirst",t.itemSelected)("options",t.brands)("ngModel",t.itemSelected)}}function I(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"span",50)(1,"p-dropdown",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw(2);return e.KtG(r.itemSelected=n)}),e.qZA(),e.TgZ(2,"label",52),e._uU(3,"Brand"),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("autoDisplayFirst",!1)("options",t.brands)("ngModel",t.itemSelected)}}function k(o,l){1&o&&(e.TgZ(0,"small",53),e._uU(1,"Name is required."),e.qZA())}const N=function(o){return{"ng-invalid ng-dirty":o}};function H(o,l){if(1&o){const t=e.EpF();e.YNc(0,F,1,2,"img",40),e.TgZ(1,"div",41),e.YNc(2,q,4,3,"span",42),e.YNc(3,I,4,3,"span",42),e.qZA(),e.TgZ(4,"div",43)(5,"label",44),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"input",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.category.categoryName=n)}),e.qZA(),e.YNc(8,k,2,0,"small",46),e.qZA(),e.TgZ(9,"div",47)(10,"input",48),e.NdJ("change",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.onUpload(n))}),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("ngIf",null==t.category.Image?null:t.category.Image.imageUrl),e.xp6(2),e.Q6J("ngIf",1==t.createCategory),e.xp6(1),e.Q6J("ngIf",0==t.createCategory),e.xp6(4),e.Q6J("ngModel",t.category.categoryName)("ngClass",e.VKq(7,N,t.submitted&&!t.category.categoryName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.category.categoryName),e.xp6(2),e.Q6J("ngClass",e.VKq(9,N,t.submitted&&!t.file))}}function G(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.qZA(),e.TgZ(1,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveCategory())}),e.qZA()}}function Q(o,l){if(1&o&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Oqu(t.category.categoryName)}}function K(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteCategoryDialog=!1)}),e.qZA(),e.TgZ(1,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete())}),e.qZA()}}function B(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteCategorysDialog=!1)}),e.qZA(),e.TgZ(1,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const Y=function(){return["categoryName","brand.brandName"]},R=function(){return[10,20,30]},u=function(){return{width:"450px"}};let E=(()=>{class o{constructor(t,a,n){this.brand_service=t,this.messageService=a,this.category_service=n,this.categoryDialog=!1,this.deleteCategoryDialog=!1,this.deleteCategorysDialog=!1,this.categorys=[],this.category={},this.selectedCategory=[],this.submitted=!1,this.brands=[],this.brand={},this.rowsPerPageOptions=[5,10,20],this.file={},this.createCategory=!1}ngOnInit(){var t=this;return(0,p.Z)(function*(){yield t.brand_service.getAllBrand().subscribe(a=>{t.brands=a.data}),yield t.category_service.getAllCategory().subscribe(a=>{t.categorys=a.data})})()}openNew(){this.category={},this.submitted=!1,this.file={},this.itemSelected={},this.categoryDialog=!0,this.createCategory=!1}deleteSelectedCategorys(){this.deleteCategorysDialog=!0}editCategory(t){this.category=Object.assign({},t),this.itemSelected=this.brands.filter(a=>{var n;return a.id==(null===(n=t.brand)||void 0===n?void 0:n.id)})[0],this.categoryDialog=!0,this.createCategory=!0}deleteCategory(t){this.deleteCategoryDialog=!0,this.category=Object.assign({},t)}confirmDeleteSelected(){var t=this;return(0,p.Z)(function*(){t.deleteCategorysDialog=!1,t.categorys=t.categorys.filter(a=>!t.selectedCategory.includes(a));for(let a=0;a<t.selectedCategory.length;a++)yield t.category_service.deleteCategory(t.selectedCategory[a].id).subscribe(n=>{t.categorys=t.categorys.filter(r=>r.id!==t.category.id),t.messageService.add({severity:"success",summary:"Successful",detail:"Category Deleted",life:3e3}),t.category={}});t.selectedCategory=[]})()}confirmDelete(){var t=this;return(0,p.Z)(function*(){t.deleteCategoryDialog=!1,yield t.category_service.deleteCategory(t.category.id).subscribe(a=>{t.categorys=t.categorys.filter(n=>n.id!==t.category.id),t.messageService.add({severity:"success",summary:"Successful",detail:"Category Deleted",life:3e3}),t.category={}},a=>{t.messageService.add({severity:"error",summary:"Delete Fail ",detail:"Category Deleted not Successful",life:3e3})})})()}hideDialog(){this.categoryDialog=!1,this.submitted=!1}saveCategory(){var t=this;return(0,p.Z)(function*(){var a;if(t.submitted=!0,null!==(a=t.category.categoryName)&&void 0!==a&&a.trim()){if(t.category.id){let r=new FormData;r.set("categoryName",t.category.categoryName),r.set("brandId",t.itemSelected.id),null!=t.file&&r.set("file",t.file),yield t.category_service.updateCategory(r,t.category.id).subscribe(c=>{t.category_service.getAllCategory().subscribe($=>{t.categorys=$.data}),t.messageService.add({severity:"success",summary:"Successful",detail:"Category Updated",life:3e3})},c=>{t.messageService.add({severity:"error",summary:"Create Fail ",detail:"Category create not Successful",life:3e3})})}else{var n=new FormData;n.set("categoryName",t.category.categoryName),n.set("brandId",t.itemSelected.id),n.set("file",t.file),yield t.category_service.createCategory(n).subscribe(r=>{t.categorys.push(r.data),t.messageService.add({severity:"success",summary:"Successful",detail:"Category Created",life:3e3})},r=>{t.messageService.add({severity:"error",summary:"Update Fail ",detail:"Category Update not Successful",life:3e3})})}t.brands=[...t.brands],t.categoryDialog=!1,t.createCategory=!0,t.itemSelected={},t.file={},t.brand={}}})()}onGlobalFilter(t,a){t.filterGlobal(a.target.value,"contains")}onUpload(t){this.file=t.target.files[0],this.messageService.add({severity:"info",summary:"Success",detail:"File Uploaded"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A.c),e.Y36(m.ez),e.Y36(M.H))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],features:[e._Bn([m.ez])],decls:26,vars:27,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Category Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Delete","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","categoryName"],["field","categoryName"],["pSortableColumn","brand.brandName"],["field","brand.brandName"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],["width","100",1,"shadow-4",3,"src","alt"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["width","150","class","mt-0 mx-auto mb-5 block shadow-2",3,"src","alt",4,"ngIf"],[1,"field","mt-5","mb-5"],["class","p-float-label",4,"ngIf"],[1,"field","mb-5"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"field"],["type","file","pInputText","","id","file","required","","autofocus","",1,"mb-5",3,"ngClass","change"],["width","150",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"src","alt"],[1,"p-float-label"],["inputId","brand","optionLabel","brandName",3,"autoDisplayFirst","options","ngModel","ngModelChange"],["for","brand"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-toolbar",3),e.YNc(5,S,3,1,"ng-template",4),e.YNc(6,w,2,1,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.NdJ("selectionChange",function(r){return a.selectedCategory=r}),e.YNc(9,J,6,0,"ng-template",8),e.YNc(10,U,14,0,"ng-template",9),e.YNc(11,D,19,5,"ng-template",10),e.qZA()(),e.TgZ(12,"p-dialog",11),e.NdJ("visibleChange",function(r){return a.categoryDialog=r}),e.YNc(13,H,11,11,"ng-template",12),e.YNc(14,G,2,0,"ng-template",13),e.qZA(),e.TgZ(15,"p-dialog",14),e.NdJ("visibleChange",function(r){return a.deleteCategoryDialog=r}),e.TgZ(16,"div",15),e._UZ(17,"i",16),e.YNc(18,Q,5,1,"span",17),e.qZA(),e.YNc(19,K,2,0,"ng-template",13),e.qZA(),e.TgZ(20,"p-dialog",14),e.NdJ("visibleChange",function(r){return a.deleteCategorysDialog=r}),e.TgZ(21,"div",15),e._UZ(22,"i",16),e.TgZ(23,"span"),e._uU(24,"Are you sure you want to delete selected Catrgorys?"),e.qZA()(),e.YNc(25,B,2,0,"ng-template",13),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("value",a.categorys)("rows",10)("globalFilterFields",e.DdM(22,Y))("rows",10)("paginator",!0)("rowsPerPageOptions",e.DdM(23,R))("showCurrentPageReport",!0)("selection",a.selectedCategory)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(24,u)),e.Q6J("visible",a.categoryDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(25,u)),e.Q6J("visible",a.deleteCategoryDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",a.category),e.xp6(2),e.Akn(e.DdM(26,u)),e.Q6J("visible",a.deleteCategorysDialog)("modal",!0))},dependencies:[d.mk,d.O5,s.iA,m.jx,s.lQ,s.fz,s.UA,s.Mo,C.p,f.Hq,g.Fj,g.JJ,g.Q7,g.On,b.H,h.FN,Z.o,v.o,x.Lt,T.V],encapsulation:2}),o})(),j=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[y.Bz.forChild([{path:"",component:E}]),y.Bz]}),o})();var O=i(1694),z=i(5551),P=i(353),L=i(3496);let V=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,j,s.U$,C.O,g.u5,f.hJ,b.T,h.EV,Z.V,O.Xt,v.j,z.A,x.kW,P.cc,L.L$,T.S]}),o})()}}]);