"use strict";(self.webpackChunkssh_team=self.webpackChunkssh_team||[]).push([[507],{9507:(L,f,l)=>{l.r(f),l.d(f,{PartnerModule:()=>V});var m=l(9023),c=l(526),b=l(8530),d=l(8769),g=l(7933),e=l(5764),A=l(7665),p=l(2484),Z=l(9961),h=l(2440),C=l(6320),x=l(7935),T=l(4440),P=l(7130),v=l(5184);function w(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openNew())}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteSelectedProducts())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.selectedPartners||!t.selectedPartners.length)}}function N(n,i){if(1&n){const t=e.EpF();e._UZ(0,"p-fileUpload",21),e.TgZ(1,"button",22),e.NdJ("click",function(){e.CHM(t),e.oxw();const r=e.MAs(8);return e.KtG(r.exportCSV())}),e.qZA()}2&n&&e.Q6J("maxFileSize",1e6)}function U(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"h5",24),e._uU(2,"Manage Products"),e.qZA(),e.TgZ(3,"span",25),e._UZ(4,"i",26),e.TgZ(5,"input",27),e.NdJ("input",function(r){e.CHM(t);const o=e.oxw(),s=e.MAs(8);return e.KtG(o.onGlobalFilter(s,r))}),e.qZA()()()}}function y(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",28),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",29),e._uU(4,"Store Name "),e._UZ(5,"p-sortIcon",30),e.qZA(),e.TgZ(6,"th",31),e._uU(7,"Locction "),e._UZ(8,"p-sortIcon",32),e.qZA(),e.TgZ(9,"th",33),e._uU(10,"web url "),e._UZ(11,"p-sortIcon",34),e.qZA(),e.TgZ(12,"th"),e._uU(13,"logo "),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Action"),e.qZA()())}function M(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",35),e.qZA(),e.TgZ(3,"td",36)(4,"span",37),e._uU(5,"Category"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",38)(8,"span",37),e._uU(9,"Price"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",36)(12,"span",37),e._uU(13,"Category"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",36)(16,"span",37),e._uU(17,"Image"),e.qZA(),e._UZ(18,"img",39),e.qZA(),e.TgZ(19,"td")(20,"div",40)(21,"button",41),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(o))}),e.qZA(),e.TgZ(22,"button",42),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(o))}),e.qZA()()()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.storeName," "),e.xp6(4),e.hij(" ",t.location," "),e.xp6(4),e.hij(" ",t.webUrl," "),e.xp6(4),e.Q6J("src",t.imgeUrl,e.LSH)("alt",t.storeName)}}function J(n,i){if(1&n&&e._UZ(0,"img",53),2&n){const t=e.oxw(2);e.Q6J("src",t.partner.imgeUrl,e.LSH)("alt",t.partner.imgeUrl)}}function q(n,i){1&n&&(e.TgZ(0,"small",54),e._uU(1,"Name is required."),e.qZA())}function D(n,i){1&n&&(e.TgZ(0,"small",54),e._uU(1,"location is required."),e.qZA())}function S(n,i){1&n&&(e.TgZ(0,"small",54),e._uU(1,"web url is required."),e.qZA())}const u=function(n){return{"ng-invalid ng-dirty":n}};function k(n,i){if(1&n){const t=e.EpF();e.YNc(0,J,1,2,"img",43),e.TgZ(1,"div",44)(2,"label",45),e._uU(3,"Store Name"),e.qZA(),e.TgZ(4,"input",46),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.partner.storeName=r)}),e.qZA(),e.YNc(5,q,2,0,"small",47),e.qZA(),e.TgZ(6,"div",44)(7,"label",48),e._uU(8,"Location"),e.qZA(),e.TgZ(9,"input",49),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.partner.location=r)}),e.qZA(),e.YNc(10,D,2,0,"small",47),e.qZA(),e.TgZ(11,"div",44)(12,"label",50),e._uU(13,"web url"),e.qZA(),e.TgZ(14,"input",51),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.partner.webUrl=r)}),e.qZA(),e.YNc(15,S,2,0,"small",47),e.qZA(),e.TgZ(16,"div",44)(17,"input",52),e.NdJ("change",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.onUpload(r))}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngIf",t.partner.imgeUrl),e.xp6(4),e.Q6J("ngModel",t.partner.storeName)("ngClass",e.VKq(11,u,t.submitted&&!t.partner.storeName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.partner.storeName),e.xp6(4),e.Q6J("ngModel",t.partner.location)("ngClass",e.VKq(13,u,t.submitted&&!t.partner.location)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.partner.location),e.xp6(4),e.Q6J("ngModel",t.partner.webUrl)("ngClass",e.VKq(15,u,t.submitted&&!t.partner.webUrl)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.partner.webUrl),e.xp6(2),e.Q6J("ngClass",e.VKq(17,u,t.submitted&&!t.file))}}function F(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.hideDialog())}),e.qZA(),e.TgZ(1,"button",56),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveProduct())}),e.qZA()}}function H(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.partner.storeName)}}function K(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deletePartnersDialog=!1)}),e.qZA(),e.TgZ(1,"button",58),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.confirmDelete())}),e.qZA()}}function G(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deletePartnersDialog=!1)}),e.qZA(),e.TgZ(1,"button",58),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.confirmDeleteSelected())}),e.qZA()}}const I=function(){return["storeName","location","weburl"]},Q=function(){return[10,20,30]},_=function(){return{width:"450px"}};let Y=(()=>{class n{constructor(t,a){this.partner_service=t,this.messageService=a,this.partnerDialog=!1,this.deletePartnerDialog=!1,this.deletePartnersDialog=!1,this.partners=[],this.partner={},this.selectedPartners=[],this.submitted=!1,this.statuses=[],this.rowsPerPageOptions=[5,10,20],this.file={}}ngOnInit(){this.partner_service.getAllPartner().subscribe(t=>{this.partners=t.data})}openNew(){this.partner={},this.submitted=!1,this.partnerDialog=!0}deleteSelectedProducts(){this.deletePartnersDialog=!0}editProduct(t){this.partner=Object.assign({},t),this.partnerDialog=!0}deleteProduct(t){this.deletePartnerDialog=!0,this.partner=Object.assign({},t)}confirmDeleteSelected(){var t=this;return(0,d.Z)(function*(){t.deletePartnersDialog=!1,t.partners=t.partners.filter(a=>!t.selectedPartners.includes(a));for(let a=0;a<t.selectedPartners.length;a++)yield t.partner_service.deletePartner(t.selectedPartners[a].id).subscribe(r=>{t.partners=t.partners.filter(o=>o.id!==t.partner.id),t.messageService.add({severity:"success",summary:"Successful",detail:"Partner Deleted",life:3e3}),t.partner={}});t.selectedPartners=[]})()}confirmDelete(){var t=this;return(0,d.Z)(function*(){t.deletePartnerDialog=!1,yield t.partner_service.deletePartner(t.partner.id).subscribe(a=>{t.partners=t.partners.filter(r=>r.id!==t.partner.id),t.messageService.add({severity:"success",summary:"Successful",detail:"Partner Deleted",life:3e3}),t.partner={}},a=>{t.messageService.add({severity:"error",summary:"Delete Fail ",detail:"Partner Deleted not Successful",life:3e3})})})()}hideDialog(){this.partnerDialog=!1,this.submitted=!1}saveProduct(){var t=this;return(0,d.Z)(function*(){var a;if(t.submitted=!0,null!==(a=t.partner.storeName)&&void 0!==a&&a.trim()){if(t.partner.id){let r=new FormData;r.set("storeName",t.partner.storeName),r.set("webUrl",t.partner.webUrl||""),r.set("location",t.partner.location||""),null!=t.file&&r.set("logo",t.file),yield t.partner_service.updatePartner(r,t.partner.id).subscribe(o=>{t.partner_service.getAllPartner().subscribe(s=>{t.partners=s.data}),t.messageService.add({severity:"success",summary:"Successful",detail:"Category Updated",life:3e3})},o=>{t.messageService.add({severity:"error",summary:"Create Fail ",detail:"Category create not Successful",life:3e3})})}else{let r=new FormData;r.set("storeName",t.partner.storeName),r.set("webUrl",t.partner.webUrl||""),r.set("location",t.partner.location||""),r.set("logo",t.file),yield t.partner_service.createPartner(r).subscribe(o=>{t.partners.push(o.data),t.messageService.add({severity:"success",summary:"Successful",detail:"Category Created",life:3e3})},o=>{t.messageService.add({severity:"error",summary:"Update Fail ",detail:"Category Update not Successful",life:3e3})})}t.partners=[...t.partners],t.partnerDialog=!1,t.partner={}}})()}onGlobalFilter(t,a){t.filterGlobal(a.target.value,"contains")}onUpload(t){this.file=t.target.files[0],this.messageService.add({severity:"info",summary:"Success",detail:"File Uploaded"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.b),e.Y36(g.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([g.ez])],decls:26,vars:27,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","PartnerDetails",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Delete","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","storeName"],["field","storeName"],["pSortableColumn","location"],["field","location"],["pSortableColumn","weburl"],["field","weburl"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%","min-width","8rem"],["width","100",1,"shadow-4",3,"src","alt"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["width","150","class","mt-0 mx-auto mb-5 block shadow-2",3,"src","alt",4,"ngIf"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","location"],["type","text","pInputText","","id","location","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","weburl"],["type","text","pInputText","","id","weburl","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["type","file","pInputText","","id","file","required","","autofocus","",1,"mb-5",3,"ngClass","change"],["width","150",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"src","alt"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-toolbar",3),e.YNc(5,w,3,1,"ng-template",4),e.YNc(6,N,2,1,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.NdJ("selectionChange",function(o){return a.selectedPartners=o}),e.YNc(9,U,6,0,"ng-template",8),e.YNc(10,y,16,0,"ng-template",9),e.YNc(11,M,23,6,"ng-template",10),e.qZA()(),e.TgZ(12,"p-dialog",11),e.NdJ("visibleChange",function(o){return a.partnerDialog=o}),e.YNc(13,k,18,19,"ng-template",12),e.YNc(14,F,2,0,"ng-template",13),e.qZA(),e.TgZ(15,"p-dialog",14),e.NdJ("visibleChange",function(o){return a.deletePartnerDialog=o}),e.TgZ(16,"div",15),e._UZ(17,"i",16),e.YNc(18,H,5,1,"span",17),e.qZA(),e.YNc(19,K,2,0,"ng-template",13),e.qZA(),e.TgZ(20,"p-dialog",14),e.NdJ("visibleChange",function(o){return a.deletePartnersDialog=o}),e.TgZ(21,"div",15),e._UZ(22,"i",16),e.TgZ(23,"span"),e._uU(24,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(25,G,2,0,"ng-template",13),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("value",a.partners)("rows",10)("globalFilterFields",e.DdM(22,I))("rows",10)("paginator",!0)("rowsPerPageOptions",e.DdM(23,Q))("showCurrentPageReport",!0)("selection",a.selectedPartners)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(24,_)),e.Q6J("visible",a.partnerDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(25,_)),e.Q6J("visible",a.deletePartnerDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",a.partner),e.xp6(2),e.Akn(e.DdM(26,_)),e.Q6J("visible",a.deletePartnersDialog)("modal",!0))},dependencies:[m.mk,m.O5,p.iA,g.jx,p.lQ,p.fz,p.UA,p.Mo,Z.p,h.Hq,c.Fj,c.JJ,c.Q7,c.On,C.H,x.FN,T.o,P.o,v.V],encapsulation:2}),n})(),R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[b.Bz.forChild([{path:"",component:Y}]),b.Bz]}),n})();var B=l(1694),j=l(5551),E=l(8655),O=l(353),z=l(3496);let V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.ez,R,p.U$,Z.O,c.u5,h.hJ,C.T,x.EV,T.V,B.Xt,P.j,j.A,E.kW,O.cc,z.L$,v.S]}),n})()}}]);